"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[26659],{82365:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>i,contentTitle:()=>n,default:()=>f,frontMatter:()=>p,metadata:()=>l,toc:()=>s});var r=o(87462),a=(o(67294),o(3905));const p={sidebar_position:6},n="\u4f7f\u7528 OpenTofu \u8fdb\u884c\u90e8\u7f72",l={unversionedId:"tutorials/deploy-with-opentofu",id:"tutorials/deploy-with-opentofu",title:"\u4f7f\u7528 OpenTofu \u8fdb\u884c\u90e8\u7f72",description:"\u672c\u6559\u7a0b\u6f14\u793a\u5982\u4f55\u4f7f\u7528 Walrus \u548c OpenTofu \u6765\u90e8\u7f72\u8d44\u6e90\u3002",source:"@site/i18n/zh/docusaurus-plugin-content-docs/current/tutorials/deploy-with-opentofu.md",sourceDirName:"tutorials",slug:"/tutorials/deploy-with-opentofu",permalink:"/docs/zh/tutorials/deploy-with-opentofu",draft:!1,editUrl:"https://github.com/seal-io/docs/edit/main/docs/tutorials/deploy-with-opentofu.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"docs",previous:{title:"\u5982\u4f55\u521b\u5efa\u6a21\u677f",permalink:"/docs/zh/tutorials/how-to-create-template"},next:{title:"\u547d\u4ee4\u884c\u754c\u9762\uff08CLI\uff09",permalink:"/docs/zh/cli"}},i={},s=[{value:"\u4e3a\u4ec0\u4e48\u4f7f\u7528 OpenTofu\uff1f",id:"\u4e3a\u4ec0\u4e48\u4f7f\u7528-opentofu",level:2},{value:"\u5207\u6362 OpenTofu",id:"\u5207\u6362-opentofu",level:2},{value:"\u90e8\u7f72\u8d44\u6e90",id:"\u90e8\u7f72\u8d44\u6e90",level:2},{value:"\u6784\u5efa\u7279\u5b9a\u7684 OpenTofu \u7248\u672c",id:"\u6784\u5efa\u7279\u5b9a\u7684-opentofu-\u7248\u672c",level:3},{value:"\u5982\u4f55\u907f\u514d\u7248\u672c\u7ba1\u7406\u7126\u8651\uff1f",id:"\u5982\u4f55\u907f\u514d\u7248\u672c\u7ba1\u7406\u7126\u8651",level:2},{value:"\u5c1d\u8bd5 Hermit Crab",id:"\u5c1d\u8bd5-hermit-crab",level:3}],u={toc:s};function f(e){let{components:t,...p}=e;return(0,a.kt)("wrapper",(0,r.Z)({},u,p,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"\u4f7f\u7528-opentofu-\u8fdb\u884c\u90e8\u7f72"},"\u4f7f\u7528 OpenTofu \u8fdb\u884c\u90e8\u7f72"),(0,a.kt)("p",null,"\u672c\u6559\u7a0b\u6f14\u793a\u5982\u4f55\u4f7f\u7528 Walrus \u548c ",(0,a.kt)("a",{parentName:"p",href:"https://opentofu.org/manifesto/"},"OpenTofu")," \u6765\u90e8\u7f72\u8d44\u6e90\u3002"),(0,a.kt)("h2",{id:"\u4e3a\u4ec0\u4e48\u4f7f\u7528-opentofu"},"\u4e3a\u4ec0\u4e48\u4f7f\u7528 OpenTofu\uff1f"),(0,a.kt)("p",null,"\u81ea v1.6.0 \u8d77\uff0cHashicorp ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/hashicorp/terraform/pull/33678"},"\u5c06 Terraform \u8bb8\u53ef\u8bc1\u4ece MPL \u5207\u6362\u4e3a BUSL"),"\uff0cOpenTofu \u4e8e 2023 \u5e74 8 \u6708 25 \u65e5\u4ece MPL \u8bb8\u53ef\u7684 Terraform \u5206\u53c9\uff0c\u5e76\u5728 Linux \u57fa\u91d1\u4f1a\u4e2d\u7ef4\u62a4\u4ee5\u4fdd\u6301\u5f00\u6e90\u3002"),(0,a.kt)("p",null,"\u7b80\u800c\u8a00\u4e4b\uff0cOpenTofu \u662f Terraform \u7684\u8f7b\u677e\u66ff\u4ee3\u54c1\u3002"),(0,a.kt)("h2",{id:"\u5207\u6362-opentofu"},"\u5207\u6362 OpenTofu"),(0,a.kt)("p",null,"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cWalrus \u4f7f\u7528 MPL \u8bb8\u53ef\u7684\u6700\u65b0 Terraform \u7248\u672c v1.5.7 \u6765\u5b8c\u6210\u8d44\u6e90\u90e8\u7f72\u3002 \u4e3a\u4e86\u51cf\u5c11\u6bcf\u6b21\u90e8\u7f72\u65f6\u4e0b\u8f7dTerraform Provider\u7684\u65f6\u95f4\u6210\u672c\uff0c\u6211\u4eec\u91c7\u7528\u4e86\u5728\u539f\u59cb",(0,a.kt)("a",{parentName:"p",href:"(https://hub.docker.com/r/hashicorp/terraform)"},"Hashicorp/Terraform\u955c\u50cf"),"\u7684\u57fa\u7840\u4e0a\u4fee\u6539\u7684\u5bb9\u5668\u955c\u50cf\uff0c\u5176\u4e2d\u5305\u542b\u4e86\u4e00\u4e9b\u5e38\u7528\u4e14\u5fc5\u9700\u7684Terraform Provider\u3002 \u5982\u679c\u60a8\u5bf9\u6b64\u611f\u5174\u8da3\uff0c\u53ef\u4ee5\u6d4f\u89c8 ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/seal-io/terraform-deployer"},"seal-io/terraform-deployer")," \u4e86\u89e3\u66f4\u591a\u4fe1\u606f\u3002"),(0,a.kt)("p",null,"\u8ba9\u6211\u4eec\u56de\u5230\u5982\u4f55\u5207\u6362 OpenTofu\u3002 \u5047\u8bbe\u60a8\u5df2\u7ecf\u5b8c\u6210\u4e86\u6211\u4eec\u7684",(0,a.kt)("a",{parentName:"p",href:"../quickstart"},"\u5feb\u901f\u5165\u95e8"),"\uff0c\u73b0\u5728\u60a8\u53ef\u4ee5\u5bfc\u822a\u5230 ",(0,a.kt)("inlineCode",{parentName:"p"},"\u7cfb\u7edf\u8bbe\u7f6e")," \u5e76\u9009\u62e9 ",(0,a.kt)("inlineCode",{parentName:"p"},"\u90e8\u7f72")," \u9009\u9879\u5361\uff0c\u5982\u4e0b\u6240\u793a\u3002"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"list-setting",src:o(41163).Z,width:"3446",height:"1914"})),(0,a.kt)("p",null,"You can replace the ",(0,a.kt)("inlineCode",{parentName:"p"},"Deployer Image")," to our ",(0,a.kt)("a",{parentName:"p",href:"https://hub.docker.com/r/sealio/opentofu-deployer/tags"},"OpenTofu Deployer"),", for example, input ",(0,a.kt)("inlineCode",{parentName:"p"},"sealio/opentofu-deployer:v1.6.0-seal.1"),"."),(0,a.kt)("p",null,"\u60a8\u53ef\u4ee5\u5c06 ",(0,a.kt)("inlineCode",{parentName:"p"},"\u90e8\u7f72\u5668\u955c\u50cf")," \u66ff\u6362\u4e3a\u6211\u4eec\u7684 ",(0,a.kt)("a",{parentName:"p",href:"https://hub.docker.com/r/sealio/opentofu-deployer/tags"},"OpenTofu Deployer"),"\uff0c\u4f8b\u5982\uff0c\u8f93\u5165 ",(0,a.kt)("inlineCode",{parentName:"p"},"sealio/opentofu-deployer:v1.6.0-seal.1"),"\uff0c\u7b2c\u4e00\u4e2a\u5b98\u5ba3\u7684 OpenTofu \u7248\u672c\u3002"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"configure-deployer",src:o(23118).Z,width:"3440",height:"1916"})),(0,a.kt)("h2",{id:"\u90e8\u7f72\u8d44\u6e90"},"\u90e8\u7f72\u8d44\u6e90"),(0,a.kt)("p",null,"\u73b0\u5728\uff0c\u60a8\u53ef\u4ee5\u56de\u5230\u9ed8\u8ba4Project\u4e0b\u7684\u672c\u5730\u73af\u5883\uff0c\u5e76\u4eab\u53d7OpenTofu\u4e86\u3002"),(0,a.kt)("p",null,"\u60a8\u53ef\u4ee5\u9009\u62e9\u8d44\u6e90\u5e76\u6267\u884c\uff08\u91cd\u65b0\uff09\u90e8\u7f72\uff0c\u5982\u56fe\u6240\u793a\u3002"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"redeploy",src:o(53586).Z,width:"3440",height:"1912"})),(0,a.kt)("p",null,"\u6211\u4eec\u6765\u770b\u770b\u90e8\u7f72\u65e5\u5fd7\u3002"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"view-logs",src:o(61176).Z,width:"1438",height:"1356"})),(0,a.kt)("h3",{id:"\u6784\u5efa\u7279\u5b9a\u7684-opentofu-\u7248\u672c"},"\u6784\u5efa\u7279\u5b9a\u7684 OpenTofu \u7248\u672c"),(0,a.kt)("p",null,"\u5982\u679c\u60a8\u9700\u8981\u4f7f\u7528\u7279\u5b9a\u7248\u672c\u7684 OpenTofu\uff0c\u60a8\u53ef\u4ee5\u6309\u7167\u6b64 ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/seal-io/opentofu-deployer/blob/main/Dockerfile"},"Dockerfile")," \u6784\u5efa\u60a8\u81ea\u5df1\u7684\u7279\u5b9a\u7248\u672c\u7684 OpenTofu Deployer\u3002"),(0,a.kt)("h2",{id:"\u5982\u4f55\u907f\u514d\u7248\u672c\u7ba1\u7406\u7126\u8651"},"\u5982\u4f55\u907f\u514d\u7248\u672c\u7ba1\u7406\u7126\u8651\uff1f"),(0,a.kt)("p",null,"\u6b63\u5982\u6211\u4eec\u4e0a\u9762\u63d0\u5230\u7684\uff0c\u9ed8\u8ba4\u7684 OpenTofu Deployer \u548c Terraform Deployer \u4e00\u6837\uff0c\u5b83\u5d4c\u5165\u4e86\u4e00\u4e9b\u5e38\u7528\u4e14\u5fc5\u9700\u7684 Terraform Provider\u3002\u8fd9\u4e9b\u7535\u6c60\u5e2e\u52a9 Walrus \u5feb\u901f\u5b8c\u6210\u90e8\u7f72\u3002"),(0,a.kt)("p",null,"\u4f46\u51e1\u4e8b\u90fd\u6709\u4e24\u4e2a\u65b9\u9762\uff0c\u9690\u542b\u7684\u955c\u50cfProvider\u662f\u7248\u672c\u9501\u5b9a\u7684\u3002 \u8fd9\u610f\u5473\u7740\u5982\u679c\u672c\u5730\u7248\u672c\u65e0\u6cd5\u6ee1\u8db3\u67d0\u4e2a\u7248\u672c\uff08\u53ef\u80fd\u662f\u8303\u56f4\uff09\u7684\u8981\u6c42\uff0c\u6211\u4eec\u5c06\u4ece OpenTofu \u6536\u5230\u9519\u8bef\u3002"),(0,a.kt)("p",null,"\u56e0\u6b64\uff0cWalrus \u63d0\u4f9b\u4e86 ",(0,a.kt)("inlineCode",{parentName:"p"},"\u90e8\u7f72\u5668\u52a0\u901f\u5730\u5740"),(0,a.kt)("a",{parentName:"p",href:"../settings"},"\u8bbe\u7f6e"),"\uff0c\u5141\u8bb8\u60a8\u914d\u7f6e\u901a\u8fc7\u7f51\u7edc\u4ece\u9644\u8fd1\u7684\u670d\u52a1\u4ee3\u7406\u4e0b\u8f7d Terraform/OpenTofu Provider\u3002"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"configure-network-mirror",src:o(89781).Z,width:"3450",height:"1894"})),(0,a.kt)("h3",{id:"\u5c1d\u8bd5-hermit-crab"},"\u5c1d\u8bd5 Hermit Crab"),(0,a.kt)("p",null,"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cWalrus \u4f1a\u63d0\u4f9b\u4e00\u4e2a\u540d\u4e3a ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/seal-io/hermitcrab"},"Hermit Crab")," \u7684 Provider \u4ee3\u7406\u4e0b\u8f7d\u670d\u52a1\uff0c\u60a8\u53ea\u9700\u4ece\u6b64\u5904\u590d\u5236 ",(0,a.kt)("inlineCode",{parentName:"p"},"https://walrus-mirror-hermitcrab.walrus-system/v1/providers/")," \u5e76\u7c98\u8d34\u5373\u53ef\u3002"),(0,a.kt)("p",null,"\u4f7f\u7528Hermit Crab\uff0c\u4e0b\u8f7d\u65b0\u7248\u672c\u5305\u4f1a\u6162\u4e00\u70b9\uff0c\u4f46\u7a0d\u540e\u4f60\u4f1a\u5f97\u5230\u4e0e\u9690\u542b\u955c\u50cf\u76f8\u540c\u7684\u6548\u7387\uff0c\u5e76\u4e14\u65e0\u9700\u62c5\u5fc3\u7248\u672c\u53d8\u5316\u3002"),(0,a.kt)("p",null,"\u6700\u540e\uff0c\u6b22\u8fce\u4f7f\u7528 OpenTofu\uff0c\u8fd9\u4f1a\u662f\u4e00\u4e2a\u66f4\u79ef\u6781\u7684\u793e\u533a\u3002"))}f.isMDXComponent=!0},23118:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"assets/images/configure-deployer-c851c5a8c4c02fafea8fef979ab13a15.png"},89781:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"assets/images/configure-network-mirror-d409bbca2caaef3f5a6996a5190a8bf7.png"},41163:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"assets/images/list-setting-893726102572ae9fec80638b8a29663b.png"},53586:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"assets/images/redeploy-15deca0ca35367773271b068c55184f7.png"},61176:(e,t,o)=>{o.d(t,{Z:()=>r});const r=o.p+"assets/images/view-logs-e11a306bca0e54759893d72c297a7c67.png"}}]);