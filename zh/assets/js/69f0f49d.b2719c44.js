"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[80075],{25700:(e,l,n)=>{n.r(l),n.d(l,{assets:()=>i,contentTitle:()=>s,default:()=>p,frontMatter:()=>r,metadata:()=>o,toc:()=>c});var a=n(87462),t=(n(67294),n(3905));const r={sidebar_position:4},s="\u672c\u5730 Docker \u6a21\u5f0f",o={unversionedId:"deploy/local-docker-mode",id:"version-v0.5/deploy/local-docker-mode",title:"\u672c\u5730 Docker \u6a21\u5f0f",description:"Walrus \u80fd\u4ee5\u672c\u5730 Docker \u6a21\u5f0f\u90e8\u7f72\u3002\u4f7f\u7528\u6b64\u6a21\u5f0f\uff0c\u5f00\u53d1\u4eba\u5458\u53ef\u4ee5\u5728\u5176\u4e2a\u4eba\u8ba1\u7b97\u673a\u4e0a\u4f7f\u7528 Docker \u90e8\u7f72 Walrus file\u3002\u8fd9\u4f7f\u5f97\u7528\u6237\u53ef\u4ee5\u5728\u5f00\u53d1\u9636\u6bb5\u4f7f\u7528\u4e0e\u751f\u4ea7 Kubernetes \u73af\u5883\u4e00\u81f4\u7684\u5e94\u7528\u5b9a\u4e49\u3002\u65e0\u9700\u5728\u672c\u5730\u4f7f\u7528 Kubernetes\uff0c\u53ea\u9700\u4f7f\u7528 Docker \u5373\u53ef\u3002",source:"@site/i18n/zh/docusaurus-plugin-content-docs/version-v0.5/deploy/local-docker-mode.md",sourceDirName:"deploy",slug:"/deploy/local-docker-mode",permalink:"/docs/zh/v0.5/deploy/local-docker-mode",draft:!1,editUrl:"https://github.com/seal-io/docs/edit/main/versioned_docs/version-v0.5/deploy/local-docker-mode.md",tags:[],version:"v0.5",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"docs",previous:{title:"\u9ad8\u53ef\u7528\u90e8\u7f72",permalink:"/docs/zh/v0.5/deploy/replication"},next:{title:"\u9009\u9879",permalink:"/docs/zh/v0.5/deploy/options"}},i={},c=[{value:"\u5148\u51b3\u6761\u4ef6",id:"\u5148\u51b3\u6761\u4ef6",level:2},{value:"\u5b89\u88c5\u672c\u5730 Walrus",id:"\u5b89\u88c5\u672c\u5730-walrus",level:2},{value:"\u90e8\u7f72\u8d44\u6e90",id:"\u90e8\u7f72\u8d44\u6e90",level:2},{value:"\u5378\u8f7d\u672c\u5730 Walrus",id:"\u5378\u8f7d\u672c\u5730-walrus",level:2}],u={toc:c};function p(e){let{components:l,...n}=e;return(0,t.kt)("wrapper",(0,a.Z)({},u,n,{components:l,mdxType:"MDXLayout"}),(0,t.kt)("h1",{id:"\u672c\u5730-docker-\u6a21\u5f0f"},"\u672c\u5730 Docker \u6a21\u5f0f"),(0,t.kt)("p",null,"Walrus \u80fd\u4ee5\u672c\u5730 Docker \u6a21\u5f0f\u90e8\u7f72\u3002\u4f7f\u7528\u6b64\u6a21\u5f0f\uff0c\u5f00\u53d1\u4eba\u5458\u53ef\u4ee5\u5728\u5176\u4e2a\u4eba\u8ba1\u7b97\u673a\u4e0a\u4f7f\u7528 Docker \u90e8\u7f72 Walrus file\u3002\u8fd9\u4f7f\u5f97\u7528\u6237\u53ef\u4ee5\u5728\u5f00\u53d1\u9636\u6bb5\u4f7f\u7528\u4e0e\u751f\u4ea7 Kubernetes \u73af\u5883\u4e00\u81f4\u7684\u5e94\u7528\u5b9a\u4e49\u3002\u65e0\u9700\u5728\u672c\u5730\u4f7f\u7528 Kubernetes\uff0c\u53ea\u9700\u4f7f\u7528 Docker \u5373\u53ef\u3002"),(0,t.kt)("h2",{id:"\u5148\u51b3\u6761\u4ef6"},"\u5148\u51b3\u6761\u4ef6"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"\u5df2\u5b89\u88c5 Docker\uff0c\u8bf7\u53c2\u8003 ",(0,t.kt)("a",{parentName:"li",href:"https://docs.docker.com/"},"Docker \u5b98\u65b9\u6587\u6863")," \u4e86\u89e3\u5982\u4f55\u5728\u60a8\u7684\u8ba1\u7b97\u673a\u4e0a\u8bbe\u7f6e Docker\u3002"),(0,t.kt)("li",{parentName:"ul"},"\uff08\u53ef\u9009\uff09\u5df2\u5b89\u88c5 Docker Desktop\uff0c\u5e76\u542f\u7528 ",(0,t.kt)("a",{parentName:"li",href:"https://docs.docker.com/desktop/extensions/"},"Docker Extensions"),"\u3002\u5982\u679c\u9002\u7528\uff0c\u5c06\u5b89\u88c5 Walrus Docker \u6269\u5c55\u3002"),(0,t.kt)("li",{parentName:"ul"},"\u5df2\u5b89\u88c5 Walrus CLI\uff0c\u8bf7\u53c2\u8003 ",(0,t.kt)("a",{parentName:"li",href:"../cli"},"CLI \u6587\u6863")," \u4e86\u89e3\u5982\u4f55\u5b89\u88c5 Walrus CLI\u3002")),(0,t.kt)("h2",{id:"\u5b89\u88c5\u672c\u5730-walrus"},"\u5b89\u88c5\u672c\u5730 Walrus"),(0,t.kt)("p",null,"\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u4ee5\u5728\u672c\u5730 Docker \u6a21\u5f0f\u4e0b\u5b89\u88c5 Walrus\u3002"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"walrus local install\n")),(0,t.kt)("p",null,"\u60a8\u5e94\u8be5\u4f1a\u770b\u5230\u4ee5\u4e0b\u8f93\u51fa\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"? Install Walrus docker extension to proceed [y/N] y\nInstalling...\nChecking readiness...\nWalrus CLI is configured.\n")),(0,t.kt)("p",null,"\u60a8\u53ef\u4ee5\u4f7f\u7528 ",(0,t.kt)("inlineCode",{parentName:"p"},"--env(-e)")," \u53c2\u6570\u914d\u7f6e\u672c\u5730 Walrus \u7684",(0,t.kt)("a",{parentName:"p",href:"./options"},"\u670d\u52a1\u5668\u9009\u9879"),"\u3002\u4f8b\u5982\uff0c\u8981\u5c06\u9ed8\u8ba4\u7684\u6a21\u677f\u5e93\u6e90\u8bbe\u7f6e\u4e3a Gitee \uff0c\u8bf7\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"walrus local install -e SERVER_BUILTIN_CATALOG_PROVIDER=gitee\n")),(0,t.kt)("blockquote",null,(0,t.kt)("p",{parentName:"blockquote"},"\u6ce8\u610f\uff1a\u7531\u4e8e Docker \u6269\u5c55\u65e0\u6cd5\u914d\u7f6e\u542f\u52a8\u9009\u9879\uff0c\u5f53\u8bbe\u7f6e\u4e86\u6b64\u53c2\u6570\u65f6\uff0c\u5373\u4f7f\u5728\u60a8\u7684 Docker Desktop \u4e2d\u542f\u7528\u4e86 Docker \u6269\u5c55\uff0c\u672c\u5730 Walrus \u4e5f\u5c06\u4f7f\u7528\u666e\u901a\u7684 Docker \u5bb9\u5668\u5b89\u88c5\u3002")),(0,t.kt)("h2",{id:"\u90e8\u7f72\u8d44\u6e90"},"\u90e8\u7f72\u8d44\u6e90"),(0,t.kt)("p",null,"\u73b0\u5728\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 Walrus CLI \u5f00\u59cb\u90e8\u7f72\u3002\u4f8b\u5982\uff0c\u8003\u8651\u4ee5\u4e0b\u6765\u81ea ",(0,t.kt)("a",{parentName:"p",href:"https://github.com/seal-io/walrus-file-hub"},"Walrus \u6587\u4ef6\u4e2d\u5fc3")," \u7684 ",(0,t.kt)("inlineCode",{parentName:"p"},"nginx")," \u793a\u4f8b\uff0c"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-yaml"},"# nginx.yaml\nresources:\n  - name: nginx\n    type: containerservice\n    attributes:\n      containers:\n        - image: nginx\n          profile: run\n          ports:\n            - internal: 80\n              external: 80\n          files:\n            - path: /usr/share/nginx/html/index.html\n              content: |\n                <html>\n                  <h1>\u6b22\u8fce\u4f7f\u7528 Walrus\uff01</h1>\n                </html>\n")),(0,t.kt)("p",null,"\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u4ee5\u90e8\u7f72 ",(0,t.kt)("inlineCode",{parentName:"p"},"nginx")," \u793a\u4f8b\u3002"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"walrus apply -f nginx.yaml --wait\n")),(0,t.kt)("p",null,"\u60a8\u5e94\u8be5\u4f1a\u770b\u5230\u4ee5\u4e0b\u8f93\u51fa\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"resource default/local/nginx created\nresource default/local/nginx is in status: Deploying\nresource default/local/nginx is in status: Preparing\nresource default/local/nginx is in status: Ready\n")),(0,t.kt)("p",null,"\u4e4b\u540e\uff0c\u60a8\u53ef\u4ee5\u5217\u51fa\u8d44\u6e90\u4ee5\u9a8c\u8bc1\u5e76\u83b7\u53d6\u670d\u52a1 URL \u4ee5\u8bbf\u95ee\u3002"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"walrus resource list\n")),(0,t.kt)("p",null,"\u60a8\u5e94\u8be5\u4f1a\u770b\u5230\u4ee5\u4e0b\u8f93\u51fa\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},' ID                   NAME    ENDPOINTS                                             TYPE               STATUS   CREATED\n-------------------- ------- ----------------------------------------------------- ------------------ -------- -----------------------------\n 498114759510458370   nginx   [{"name":"80:80/http","url":"http://localhost:80"}]   containerservice   Ready    2024-01-01T00:00:00.000000Z\n')),(0,t.kt)("h2",{id:"\u5378\u8f7d\u672c\u5730-walrus"},"\u5378\u8f7d\u672c\u5730 Walrus"),(0,t.kt)("p",null,"\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u4ee5\u5728\u672c\u5730 Docker \u6a21\u5f0f\u4e0b\u5378\u8f7d Walrus\u3002"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-shell"},"walrus local uninstall\n")))}p.isMDXComponent=!0}}]);