"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[24685],{16424:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>o,contentTitle:()=>i,default:()=>k,frontMatter:()=>l,metadata:()=>d,toc:()=>m});var n=a(87462),r=(a(67294),a(3905));const l={sidebar_position:5},i="Options",d={unversionedId:"deploy/options",id:"deploy/options",title:"Options",description:"List all options of Walrus as below.",source:"@site/docs/deploy/options.md",sourceDirName:"deploy",slug:"/deploy/options",permalink:"/docs/deploy/options",draft:!1,editUrl:"https://github.com/seal-io/docs/edit/main/docs/deploy/options.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"docs",previous:{title:"Local Docker Mode",permalink:"/docs/deploy/local-docker-mode"},next:{title:"Application Management",permalink:"/docs/category/application-management"}},o={},m=[],p={toc:m};function k(t){let{components:e,...a}=t;return(0,r.kt)("wrapper",(0,n.Z)({},p,a,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"options"},"Options"),(0,r.kt)("p",null,"List all options of Walrus as below."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"sudo docker run --rm -it sealio/walrus:v0.5.0 walrus --help\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Environment Variable"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Default"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Usage"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Configure Multiple Times?"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--bind-address"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_BIND_ADDRESS"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"0.0.0.0")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The IP address on which to listen."),(0,r.kt)("td",{parentName:"tr",align:"center"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--bind-with-dual-stack"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_BIND_WITH_DUAL_STACK"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"true")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Enable dual stack socket listening."),(0,r.kt)("td",{parentName:"tr",align:"center"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--enable-tls"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_ENABLE_TLS"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"true")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Enable HTTPs."),(0,r.kt)("td",{parentName:"tr",align:"center"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--tls-cert-file"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_TLS_CERT_FILE"),(0,r.kt)("td",{parentName:"tr",align:"center"}),(0,r.kt)("td",{parentName:"tr",align:"left"},"The file containing the default x509 certificate for HTTPS. If any CA certs, concatenated after server cert file."),(0,r.kt)("td",{parentName:"tr",align:"center"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--tls-private-key-file"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_TLS_PRIVATE_KEY_FILE"),(0,r.kt)("td",{parentName:"tr",align:"center"}),(0,r.kt)("td",{parentName:"tr",align:"left"},"The file containing the default x509 private key matching --tls-cert-file."),(0,r.kt)("td",{parentName:"tr",align:"center"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--tls-cert-dir"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_TLS_CERT_DIR"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"k8s:///secrets")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The directory where the TLS certs are located. If --tls-cert-file and --tls-private-key-file are provided, this flag will be ignored. If --tls-cert-file and --tls-private-key-file are not provided, the certificate and key of auto-signed or self-signed are saved to where this flag specified. By default, the keypair are saved to the hosted Kubernetes cluster with 'k8s:///secrets', which can be shared between multiple instances for high availability. If you wanna saving to the local directory, use '/path/to/save' please, and make sure the directory is writable between multiple instances."),(0,r.kt)("td",{parentName:"tr",align:"center"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--tls-auto-cert-domains"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_TLS_AUTO_CERT_DOMAINS"),(0,r.kt)("td",{parentName:"tr",align:"center"}),(0,r.kt)("td",{parentName:"tr",align:"left"},"The domains to accept ACME HTTP-01 or TLS-ALPN-01 challenge to generate HTTPS x509 certificate and private key, and saved to the directory specified by --tls-cert-dir. If --tls-cert-file and --tls-key-file are provided, this flag will be ignored."),(0,r.kt)("td",{parentName:"tr",align:"center"},"Y")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--bootstrap-password"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_BOOTSTRAP_PASSWORD"),(0,r.kt)("td",{parentName:"tr",align:"center"}),(0,r.kt)("td",{parentName:"tr",align:"left"},"The password to bootstrap instead of random generating."),(0,r.kt)("td",{parentName:"tr",align:"center"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--conn-qps"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_CONN_QPS"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"10")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The qps(maximum average number per second) when dialing the server."),(0,r.kt)("td",{parentName:"tr",align:"center"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--conn-burst"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_CONN_BURST"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"20")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The burst(maximum number at the same moment) when dialing the server."),(0,r.kt)("td",{parentName:"tr",align:"center"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--websocket-conn-max-per-ip"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_WEBSOCKET_CONN_MAX_PER_IP"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"25")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The maximum number of websocket connections per IP."),(0,r.kt)("td",{parentName:"tr",align:"center"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--gopool-worker-factor"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_GOPOOL_WORKER_FACTOR"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"25")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The gopool worker factor determines the number of tasks of the goroutine worker pool,it is calculated by the number of CPU cores multiplied by this factor."),(0,r.kt)("td",{parentName:"tr",align:"center"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--kubeconfig"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_KUBECONFIG"),(0,r.kt)("td",{parentName:"tr",align:"center"}),(0,r.kt)("td",{parentName:"tr",align:"left"},"The configuration path of the worker kubernetes cluster."),(0,r.kt)("td",{parentName:"tr",align:"center"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--kube-conn-timeout"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_KUBE_CONN_TIMEOUT"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"5m")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The timeout for dialing the worker kubernetes cluster."),(0,r.kt)("td",{parentName:"tr",align:"center"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--kube-conn-qps"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_KUBE_CONN_QPS"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"16")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The qps(maximum average number per second) when dialing the worker kubernetes cluster."),(0,r.kt)("td",{parentName:"tr",align:"center"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--kube-conn-burst"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_KUBE_CONN_BURST"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"64")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The burst(maximum number at the same moment) when dialing the worker kubernetes cluster."),(0,r.kt)("td",{parentName:"tr",align:"center"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--kube-leader-election"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_KUBE_LEADER_ELECTION"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"true")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The config to determines whether or not to use leader election, leader election is primarily used in multi-instance deployments."),(0,r.kt)("td",{parentName:"tr",align:"center"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--kube-leader-lease"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_KUBE_LEADER_LEASE"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"15s")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The duration to keep the leadership. If --kube-leader-election=false, this flag will be ignored. When the network environment is not ideal or do not want to cause frequent access to the cluster, please increase the value appropriately."),(0,r.kt)("td",{parentName:"tr",align:"center"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--kube-leader-renew-timeout"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_KUBE_LEADER_RENEW_TIMEOUT"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"10s")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The duration to renew the leadership before give up, must be less than the duration of --kube-leader-lease.If --kube-leader-election=false, this flag will be ignored. When the network environment is not ideal, please increase the value appropriately."),(0,r.kt)("td",{parentName:"tr",align:"center"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--data-source-address"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_DATA_SOURCE_ADDRESS"),(0,r.kt)("td",{parentName:"tr",align:"center"}),(0,r.kt)("td",{parentName:"tr",align:"left"},"The addresses for connecting data source, e.g. Postgres(postgres://[username","[:password]","@]host","[:port]","/dbname","[?param1=value1&...","\xb6","mN=valueN]",")."),(0,r.kt)("td",{parentName:"tr",align:"center"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--data-source-conn-max-open"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_DATA_SOURCE_CONN_MAX_OPEN"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"15")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The maximum opening connections for connecting data source."),(0,r.kt)("td",{parentName:"tr",align:"center"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--data-source-conn-max-idle"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_DATA_SOURCE_CONN_MAX_IDLE"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"5")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The maximum idling connections for connecting data source."),(0,r.kt)("td",{parentName:"tr",align:"center"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--data-source-conn-max-life"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_DATA_SOURCE_CONN_MAX_LIFE"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"10m")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The maximum lifetime for connecting data source."),(0,r.kt)("td",{parentName:"tr",align:"center"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--data-source-data-encryption"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_DATA_SOURCE_DATA_ENCRYPTION"),(0,r.kt)("td",{parentName:"tr",align:"center"}),(0,r.kt)("td",{parentName:"tr",align:"left"},"The algorithm and key(in-hex string) for encrypting the user credentials storing in data source, e.g. aesgcm:3a9b4000d0ad8fbcd01eb922231d395d, aesgcm:b4d1c09dcf62214a05d85548b9217b34da63224d2605938abb6bf384050d2222."),(0,r.kt)("td",{parentName:"tr",align:"center"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--cache-source-address"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_CACHE_SOURCE_ADDRESS"),(0,r.kt)("td",{parentName:"tr",align:"center"}),(0,r.kt)("td",{parentName:"tr",align:"left"},"The addresses for connecting cache source, e.g. Redis(redis://[username","[:password]","@]host","[:port]","/dbname","[?param1=value1&...","\xb6","mN=valueN]","), Redis Cluster(rediss://[username","[:password]","@]host","[:port]","?addr=host2","[:port2]","&addr=host3","[:port3][&param1=value1&...&paramN=valueN]",")."),(0,r.kt)("td",{parentName:"tr",align:"center"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--cache-source-conn-max-open"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_CACHE_SOURCE_CONN_MAX_OPEN"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"0")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The maximum opening connections for connecting cache source."),(0,r.kt)("td",{parentName:"tr",align:"center"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--cache-source-conn-max-idle"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_CACHE_SOURCE_CONN_MAX_IDLE"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"0")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The maximum idling connections for connecting cache source."),(0,r.kt)("td",{parentName:"tr",align:"center"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--cache-source-conn-max-life"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_CACHE_SOURCE_CONN_MAX_LIFE"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"0s")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The maximum lifetime for connecting cache source."),(0,r.kt)("td",{parentName:"tr",align:"center"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--enable-authn"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_ENABLE_AUTHN"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"true")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Enable authentication."),(0,r.kt)("td",{parentName:"tr",align:"center"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--authn-session-max-idle"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_AUTHN_SESSION_MAX_IDLE"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"30m")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The maximum idling duration for keeping authenticated session, it represents the max-age of authenticated cookie."),(0,r.kt)("td",{parentName:"tr",align:"center"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--casdoor-server"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_CASDOOR_SERVER"),(0,r.kt)("td",{parentName:"tr",align:"center"}),(0,r.kt)("td",{parentName:"tr",align:"left"},"The URL for connecting external casdoor server."),(0,r.kt)("td",{parentName:"tr",align:"center"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"--builtin-catalog-provider"),(0,r.kt)("td",{parentName:"tr",align:"left"},"$SERVER_BUILTIN_CATALOG_PROVIDER"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"github")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Specify the provider type for creating builtin catalogs, select from 'github' or 'gitee'."),(0,r.kt)("td",{parentName:"tr",align:"center"})))))}k.isMDXComponent=!0}}]);